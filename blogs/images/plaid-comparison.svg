<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 860 520" font-family="'Segoe UI', Arial, sans-serif">
    <defs>
        <linearGradient id="bg4" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#f8f9fa"/>
            <stop offset="100%" stop-color="#e9ecef"/>
        </linearGradient>
        <filter id="s4" x="-1%" y="-2%" width="102%" height="108%">
            <feDropShadow dx="0" dy="1" stdDeviation="2" flood-color="#00000010"/>
        </filter>
    </defs>

    <rect width="860" height="520" rx="10" fill="url(#bg4)" stroke="#dee2e6" stroke-width="1"/>

    <text x="430" y="28" text-anchor="middle" font-size="15" font-weight="700" fill="#1e293b">PLAID Impact at Scale: 140M Passages (MS MARCO)</text>

    <!-- Left column: Vanilla ColBERTv2 -->
    <rect x="30" y="48" width="385" height="275" rx="8" fill="#fff1f2" stroke="#fecdd3" stroke-width="1.5" filter="url(#s4)"/>
    <text x="222" y="72" text-anchor="middle" font-size="14" font-weight="700" fill="#9f1239">Vanilla ColBERTv2</text>

    <!-- In-memory data -->
    <rect x="50" y="88" width="345" height="48" rx="6" fill="#ffffff" stroke="#fda4af" stroke-width="1"/>
    <text x="62" y="107" font-size="11" font-weight="600" fill="#475569">In-Memory Working Set</text>
    <rect x="62" y="114" width="320" height="14" rx="3" fill="#fecdd3"/>
    <rect x="62" y="114" width="320" height="14" rx="3" fill="#fb7185" opacity="0.8"/>
    <text x="222" y="124" text-anchor="middle" font-size="9" font-weight="700" fill="#ffffff">Full compressed tokens: 140M × 2,000 B = 280 GB</text>

    <!-- Latency bars -->
    <text x="62" y="160" font-size="11" font-weight="600" fill="#475569">Query Latency</text>
    <rect x="62" y="168" width="320" height="22" rx="4" fill="#fda4af"/>
    <text x="222" y="183" text-anchor="middle" font-size="10" font-weight="700" fill="#881337">GPU: ~350 ms</text>
    <rect x="62" y="196" width="320" height="22" rx="4" fill="#fb7185"/>
    <text x="222" y="211" text-anchor="middle" font-size="10" font-weight="700" fill="#ffffff">CPU: ~14,000 ms (14 sec!)</text>

    <!-- Per-query data touched -->
    <text x="62" y="242" font-size="11" font-weight="600" fill="#475569">Data Decompressed Per Query</text>
    <rect x="62" y="250" width="320" height="22" rx="4" fill="#fecdd3"/>
    <text x="222" y="265" text-anchor="middle" font-size="10" font-weight="700" fill="#881337">~50,000 docs × 2,000 B ≈ 100 MB</text>

    <!-- Cost indicator -->
    <rect x="62" y="284" width="320" height="26" rx="4" fill="#9f1239"/>
    <text x="222" y="301" text-anchor="middle" font-size="11" font-weight="700" fill="#ffffff">Cost at 1B docs: $20,000–$80,000/month</text>

    <!-- Right column: PLAID -->
    <rect x="445" y="48" width="385" height="275" rx="8" fill="#f0fdf4" stroke="#bbf7d0" stroke-width="1.5" filter="url(#s4)"/>
    <text x="637" y="72" text-anchor="middle" font-size="14" font-weight="700" fill="#166534">PLAID ColBERTv2</text>

    <!-- In-memory data -->
    <rect x="465" y="88" width="345" height="48" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
    <text x="477" y="107" font-size="11" font-weight="600" fill="#475569">In-Memory Working Set</text>
    <rect x="477" y="114" width="320" height="14" rx="3" fill="#dcfce7"/>
    <rect x="477" y="114" width="32" height="14" rx="3" fill="#22c55e" opacity="0.8"/>
    <text x="530" y="124" font-size="9" font-weight="700" fill="#166534">Centroid IDs: 140M × 200 B = 28 GB (10×↓)</text>

    <!-- Latency bars -->
    <text x="477" y="160" font-size="11" font-weight="600" fill="#475569">Query Latency</text>
    <rect x="477" y="168" width="46" height="22" rx="4" fill="#86efac"/>
    <text x="555" y="183" font-size="10" font-weight="700" fill="#166534">GPU: ~50 ms (7× faster)</text>
    <rect x="477" y="196" width="7" height="22" rx="4" fill="#22c55e"/>
    <text x="555" y="211" font-size="10" font-weight="700" fill="#166534">CPU: ~310 ms (45× faster)</text>

    <!-- Per-query data touched -->
    <text x="477" y="242" font-size="11" font-weight="600" fill="#475569">Data Decompressed Per Query</text>
    <rect x="477" y="250" width="6" height="22" rx="3" fill="#bbf7d0"/>
    <text x="555" y="265" font-size="10" font-weight="700" fill="#166534">~1,000 docs × 2,000 B ≈ 2 MB (50×↓)</text>

    <!-- Cost indicator -->
    <rect x="477" y="284" width="320" height="26" rx="4" fill="#166534"/>
    <text x="637" y="301" text-anchor="middle" font-size="11" font-weight="700" fill="#ffffff">Cost at 1B docs: $750–$2,900/month</text>

    <!-- VS divider -->
    <circle cx="430" cy="185" r="18" fill="#ffffff" stroke="#e2e8f0" stroke-width="2"/>
    <text x="430" y="190" text-anchor="middle" font-size="12" font-weight="800" fill="#475569">vs</text>

    <!-- ═══════════════════════════════════════════ -->
    <!-- COST DERIVATION PANEL                        -->
    <!-- ═══════════════════════════════════════════ -->

    <rect x="30" y="338" width="800" height="170" rx="8" fill="#ffffff" stroke="#e2e8f0" stroke-width="1.5" filter="url(#s4)"/>
    <rect x="30" y="338" width="800" height="24" rx="8" fill="#475569"/>
    <rect x="30" y="354" width="800" height="8" fill="#475569"/>
    <text x="430" y="355" text-anchor="middle" font-size="11" font-weight="700" fill="#ffffff">Cost Derivation at 1B Documents (using pricing from the Economic Pivot Point section above)</text>

    <!-- Vanilla derivation -->
    <text x="50" y="380" font-size="10" font-weight="700" fill="#9f1239">Vanilla ColBERTv2</text>

    <g font-size="9" fill="#475569">
        <text x="60" y="396">RAM: 1B × 2,000 B = 2 TB in-memory → 2,000 GB × $2.28/GB-mo = <tspan font-weight="700" fill="#9f1239">$4,560</tspan></text>
        <text x="60" y="412">Compute: ~14s/query CPU → at 10K queries/day, need 10–40 nodes for throughput = <tspan font-weight="700" fill="#9f1239">$12,000–$48,000</tspan></text>
        <text x="60" y="428">Storage + HA replication (2–3×): <tspan font-weight="700" fill="#9f1239">$3,500–$27,000</tspan></text>
        <text x="60" y="444">Total: <tspan font-weight="700" fill="#9f1239">$20,000–$80,000/month</tspan></text>
    </g>

    <!-- PLAID derivation -->
    <text x="465" y="380" font-size="10" font-weight="700" fill="#166534">PLAID ColBERTv2</text>

    <g font-size="9" fill="#475569">
        <text x="475" y="396">RAM: 1B × 200 B = 200 GB → 200 GB × $2.28/GB-mo = <tspan font-weight="700" fill="#166534">$456</tspan></text>
        <text x="475" y="412">Disk: 1B × 2,000 B = 2 TB × $0.08/GB-mo = <tspan font-weight="700" fill="#166534">$160</tspan></text>
        <text x="475" y="428">Compute: ~310ms/query → far fewer nodes = <tspan font-weight="700" fill="#166534">$100–$1,200</tspan></text>
        <text x="475" y="444">Total: <tspan font-weight="700" fill="#166534">$750–$2,900/month</tspan></text>
    </g>

    <!-- Divider between derivations -->
    <line x1="430" y1="370" x2="430" y2="455" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4,3"/>

    <!-- Footnote -->
    <text x="430" y="468" text-anchor="middle" font-size="8.5" fill="#94a3b8">RAM pricing: ~$2.28/GB-month (r6g on-demand, us-east-1). Storage: $0.08/GB-month (EBS gp3). Compute scaling assumes 10K queries/day at moderate latency targets.</text>
    <text x="430" y="482" text-anchor="middle" font-size="8.5" fill="#94a3b8">Ranges reflect replication factor (2–3×), instance sizing overhead, and QPS-dependent compute scaling. Reserved instances reduce costs by 30–40%.</text>

    <!-- Savings callout -->
    <rect x="30" y="494" width="800" height="20" rx="4" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
    <text x="430" y="508" text-anchor="middle" font-size="10" fill="#166534">
        <tspan font-weight="700">PLAID's economic impact:</tspan> 10× less RAM (Tier 1 only) + 45× faster queries = <tspan font-weight="700">7–27× lower monthly cost</tspan> at billion scale
    </text>
</svg>